(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(e,t,n){e.exports={enter:"slide_enter__YolqY",enterActive:"slide_enterActive__2gUsw",exitActive:"slide_exitActive__38YGe"}},16:function(e,t,n){e.exports={contactList:"ContactList_contactList__1Yxsw",contactListItem:"ContactList_contactListItem__wmzmd",name:"ContactList_name__2KGJs",number:"ContactList_number__1vV3S"}},24:function(e,t,n){e.exports={headerBlock:"Header_headerBlock__3kbmc",header:"Header_header__UHhVn"}},28:function(e,t,n){e.exports={filterBlock:"ContactsFilter_filterBlock__1vbVt",input:"ContactsFilter_input__3ATUD"}},40:function(e,t,n){e.exports={enter:"pop_enter__2Qy7W",enterActive:"pop_enterActive__vTFtn",exitActive:"pop_exitActive__3yorW"}},45:function(e,t,n){e.exports=n(80)},7:function(e,t,n){e.exports={form:"InputForm_form__3Q0cU",label:"InputForm_label__27_jr",inputField:"InputForm_inputField__2R5Iw",btn:"InputForm_btn__2s0qA"}},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),s=n(14),l=n(81),u=n(24),i=n.n(u),m=n(10),p=n.n(m),d=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){c(!0)}),[]),r.a.createElement("header",{className:i.a.headerBlock},r.a.createElement(l.a,{in:n,classNames:p.a,timeout:500,mountOnEnter:!0},r.a.createElement("h1",{className:i.a.header},"Phonebook")))},f=n(27),b=(n(52),n(7)),h=n.n(b),v=n(1),E=n(8),_=n.n(E),y=n(18),g="contactList/setContact",O=n(19),w=n.n(O),j=function(e){return{type:"contactList/delete",payload:e}},x={headers:{"Content-Type":"application/json"}},S=n(39),N=function(e){return e.contacts},R=Object(S.a)([N,function(e){return e.filter}],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase().trim())||e.number.includes(t.trim())}))})),C=function(){var e=Object(v.c)((function(e){return N(e)})),t=Object(v.b)(),n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(""),i=Object(s.a)(u,2),m=i[0],p=i[1],d=function(e){"name"===e.target.name&&l(e.target.value),"number"===e.target.name&&p(e.target.value)},b=function(){var n=e.map((function(e){return e.name.toLowerCase()})),a=o.toLowerCase();n.includes(a)?(f.a.configure(),f.a.error("".concat(o," is already exist"))):t(function(e){var t=e.name,n=e.number;return function(){var e=Object(y.a)(_.a.mark((function e(a){var r,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"loader/addRequestStart"}),r={name:t,number:n},e.prev=2,a({type:"error/ErrorReset"}),e.next=6,w.a.post("http://localhost:5001/contacts",r,x);case 6:c=e.sent,a({type:"contactList/add",payload:c.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a({type:"error/ErrorPostRequest"});case 13:return e.prev=13,a({type:"loader/addRequestSuccess"}),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()}({name:o,number:m}))};return r.a.createElement("form",{className:h.a.form,onSubmit:function(e){e.preventDefault(),b(),l(""),p("")}},r.a.createElement("label",{className:h.a.label},"Name:",r.a.createElement("input",{type:"text",name:"name",value:o,onChange:d,className:h.a.inputField})),r.a.createElement("label",{className:h.a.label},"Number:",r.a.createElement("input",{type:"text",name:"number",value:m,onChange:d,className:h.a.inputField})),r.a.createElement("button",{type:"submit",disabled:!o.length||!m.length,className:h.a.btn},"Add contact"))},k=n(28),F=n.n(k),L=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return N(e)}));return r.a.createElement("div",{className:F.a.filterBlock},r.a.createElement(l.a,{in:t.length>1,classNames:p.a,timeout:250,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("input",{type:"text",onChange:function(t){var n=t.target.value;e({type:"filter/",payload:n})},className:F.a.input,placeholder:"Find contacts by name"})))},q=n(82),I=n(40),A=n.n(I),D=n(16),B=n.n(D),J=n(41),P=n.n(J),T={lines:13,length:20,width:10,radius:30,scale:1,corners:1,color:"#F0FFFF",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},U=function(){return r.a.createElement(P.a,{loaded:!1,options:T})},Y=function(e){var t=e.children;return r.a.createElement("div",{className:Y.Overlay},r.a.createElement("div",{className:Y.Modal},r.a.createElement(r.a.Fragment,null,t)))},H=function(){return r.a.createElement("div",{className:H.error},r.a.createElement("p",{className:H.text},"Something gone wrong!"),r.a.createElement("p",{className:H.text},"Reload page and try again!"))},V=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return N(e)})),n=Object(v.c)((function(e){return R(e)})),c=Object(v.c)((function(e){return function(e){return e.loader}(e)})),o=Object(v.c)((function(e){return function(e){return e.error}(e)})),s=function(t){e(function(e){return function(){var t=Object(y.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"loader/DeleteRequestStart"}),t.prev=1,n({type:"error/ErrorReset"}),t.next=5,w.a.delete("http://localhost:5001/contacts/".concat(e));case 5:n(j(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:"error/ErrorDeleteRequest"});case 11:return t.prev=11,n({type:"loader/DeleteRequestSuccess"}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(a.useEffect)((function(){e((function(e){try{var t=localStorage.getItem(e);t&&JSON.parse(t)}catch(n){throw new Error}}("contacts"),function(){var e=Object(y.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"loader/SetContactsRequestStart"}),e.prev=1,t({type:"error/ErrorReset"}),e.next=5,w.a.get("http://localhost:5001/contacts");case 5:n=e.sent,t((a=n.data,{type:g,payload:a})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"error/ErrorSetContacts"});case 12:return e.prev=12,t({type:"loader/SetContactsRequestSuccess"}),e.finish(12);case 15:case"end":return e.stop()}var a}),e,null,[[1,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()))}),[e]),Object(a.useEffect)((function(){!function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){throw new Error}}("contacts",t)}),[t]),r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(Y,null,r.a.createElement(U,null)),o&&r.a.createElement(Y,null,r.a.createElement(H,null)),r.a.createElement(l.a,{in:!t.length,timeout:250,classNames:p.a,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("p",null,"Phonebook is empty")),r.a.createElement(q.a,{component:"ul",className:B.a.contactList},n.map((function(e){return r.a.createElement(l.a,{key:e.id,classNames:A.a,timeout:250},r.a.createElement("li",{className:B.a.contactListItem},r.a.createElement("span",{className:B.a.name},e.name),r.a.createElement("span",{className:B.a.number},e.number),r.a.createElement("button",{type:"button",onClick:function(){return s(e.id)}},"\xd7")))}))))};var W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(C,null),r.a.createElement(L,null),r.a.createElement(V,null))},z=(n(79),n(6)),G=n(42),M=n(43),Q=n(20),K=[],X=Object(z.combineReducers)({contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"contactList/add":return[t.payload].concat(Object(Q.a)(e));case"contactList/delete":return e.filter((function(e){return e.id!==t.payload}));case g:return[].concat(Object(Q.a)(t.payload),Object(Q.a)(e));default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filter/":return t.payload;default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"loader/addRequestStart":case"loader/DeleteRequestStart":case"loader/SetContactsRequestStart":return!0;case"loader/addRequestSuccess":case"loader/DeleteRequestSuccess":case"loader/SetContactsRequestSuccess":return!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"error/ErrorPostRequest":case"error/ErrorDeleteRequest":case"error/ErrorSetContacts":return!0;case"error/ErrorReset":return!1;default:return e}}}),Z=[M.a],$=Object(G.composeWithDevTools)(z.applyMiddleware.apply(void 0,Z)),ee=Object(z.createStore)(X,$);o.a.render(r.a.createElement(v.a,{store:ee},r.a.createElement(W,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.39c14fc8.chunk.js.map